<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz do Amor</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      background: #fff0f5;
      font-family: Arial, sans-serif;
      text-align: center;
      padding-bottom: 150px;
    }

    .menu-fixo {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #fff0f5;
      padding: 5px 0;
      z-index: 10000;
      border-top: 10px solid #570657;
      font-family: 'Dancing Script', cursive;
      font-size: 1.5em;
      color: #b22222;
    }
    
    .menu-fixo ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: left;
      gap: 60px;
    }
    
    .menu-fixo li {
      display: inline-block;
    }
    
    .menu-fixo a {
      color: #b22222;
      font-size: 35px;
      text-decoration: none;
      transition: transform 0.2s ease;
    }
    
    .menu-fixo a:hover {
      transform: scale(1.3);
    }

    .quiz-container {
      margin-top: 20px;
      margin-left: -15px; 
      margin-right: auto;
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .tela-inicial {
      padding: 20px;
      max-width: 600px;
      margin: 0 auto;
    }

    .mensagem-inicial {
      font-size: 1.3em;
      color: #570657;
      line-height: 1.6;
      margin-top: -60px;
      margin-bottom: 25px;
      padding: 15px;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 15px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    /* CLASSE AJUSTADA: fonte menor para ocupar menos espa√ßo */
    .mensagem-vitoria {
      font-size: 1.2em; /* REDUZI AQUI - estava 1.5em */
      color: #570657;
      line-height: 1.5; /* Reduzi um pouco o espa√ßamento entre linhas */
      margin-top: -40px; /* Ajustei a margem superior */
      margin-bottom: 20px;
      padding: 12px;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 15px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    /* AJUSTEI O DESTAQUE PARA O PRIMEIRO PAR√ÅGRAFO */
    .mensagem-vitoria p:first-child {
      font-size: 1.4em; /* REDUZI - estava 1.8em */
      font-weight: bold;
      margin-bottom: 10px; /* Reduzi o espa√ßamento */
    }

    .botao-iniciar {
      background: #b22222;
      color: white;
      border: none;
      padding: 15px 40px;
      font-size: 1.2em;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Dancing Script', cursive;
      font-weight: bold;
      margin-bottom: 20px;
      -webkit-tap-highlight-color: rgba(87, 6, 87, 0.3);
    }

    .botao-iniciar:hover {
      background: #570657;
      transform: scale(1.1);
      box-shadow: 0 6px 12px rgba(0,0,0,0.2);
    }

    .botao-iniciar:active {
      background: #570657 !important;
      transform: scale(0.95) !important;
    }

    /* BOT√ÉO VERDE PARA VIT√ìRIA */
    .botao-recompensa {
      background: #28a745 !important;
      color: white;
      border: none;
      padding: 15px 40px;
      font-size: 1.2em;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Dancing Script', cursive;
      font-weight: bold;
      margin-bottom: 80px !important;
      -webkit-tap-highlight-color: rgba(40, 167, 69, 0.3);
    }
    
    .botao-recompensa:hover {
      background: #218838 !important;
      transform: scale(1.1);
      box-shadow: 0 6px 12px rgba(0,0,0,0.2);
    }
    
    .botao-recompensa:active {
      background: #1e7e34 !important;
      transform: scale(0.95);
    }

    .question {
      font-size: 1.2em;
      margin: 20px 0;
      color: #570657;
    }

    .options button {
      display: block;
      margin: 10px auto;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background: #b22222;
      color: white;
      font-size: 1em;
      transition: 0.3s;
      min-width: 180px;
      max-width: 220px;
      width: 80%;
      min-height: 50px;
      text-align: center;
      box-sizing: border-box;
      -webkit-tap-highlight-color: rgba(87, 6, 87, 0.3);
    }

    .options button:hover {
      background: #570657;
      transform: scale(1.05);
    }

    .options button:active {
      background: #570657 !important;
      transform: scale(0.98);
    }

    .feedback {
      font-size: 1.1em;
      margin-top: 10px;
      font-weight: bold;
      height: 30px;
      transition: opacity 0.3s ease;
    }

    .progress-bar {
      width: 80%;
      height: 20px;
      background: #ddd;
      border-radius: 10px;
      margin: 20px auto;
      overflow: hidden;
    }

    .progress {
      height: 100%;
      width: 0%;
      background: #b22222;
      transition: width 0.3s ease;
    }

    footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      text-align: center;
      padding: 15px;
      font-family: 'Dancing Script', cursive;
      font-size: 1.3em;
      color: #b22222;
      background: #fff0f5;
      border-bottom: 10px solid #570657;
      z-index: 999;
    }

    .oculto {
      display: none !important;
      opacity: 0;
      transform: translateY(20px);
      pointer-events: none;
    }
    
    .mostrando {
      display: block !important;
      opacity: 1;
      transform: translateY(0);
      animation: apareceSuave 0.8s ease forwards;
      pointer-events: auto;
    }
    
    @keyframes apareceSuave {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* ANIMA√á√ÉO DE CONFETES */
    @keyframes confete {
      0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }
    
    .confete {
      position: fixed;
      width: 10px;
      height: 10px;
      background: #ff0000;
      opacity: 0;
      z-index: 9999;
      pointer-events: none;
    }
    
    .confete:nth-child(2n) { background: #00ff00; }
    .confete:nth-child(3n) { background: #0000ff; }
    .confete:nth-child(4n) { background: #ffff00; }
    .confete:nth-child(5n) { background: #ff00ff; }
    
    /* CONTAINER PARA AS TELAS - CORRIGIDO PARA CENTRALIZAR */
    #containerTelas {
      position: relative;
      width: 100%;
      min-height: 550px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding-bottom: 40px;
    }
    
    #telaInicial,
    #quiz,
    #telaVitoria {
      position: absolute;
      top: 0;
      width: 100%;
      max-width: 600px;
      transition: opacity 0.5s ease, transform 0.5s ease;
      text-align: center;
    }
    
    /* DIV DE ESPA√áAMENTO PARA A TELA DE VIT√ìRIA */
    .espaco-rodape {
      height: 100px;
      display: block;
      width: 100%;
    }
    
    /* ===== MEDIA QUERIES PARA MOBILE ===== */
    @media only screen and (max-width: 768px) {
      body {
        padding-bottom: 160px;
      }
      
      footer {
        padding: 12px 8px;
        font-size: 1.1em;
        line-height: 1.3;
        box-sizing: border-box;
      }
      
      .quiz-container {
        margin-top: 20px;
        margin-left: 0;
        padding: 0 15px;
      }
      
      .question {
        padding: 0 5px;
        word-wrap: break-word;
      }
      
      .feedback {
        height: 40px;
        margin-bottom: 20px;
      }
      
      #containerTelas {
        min-height: 500px;
        padding: 0 10px;
        padding-bottom: 60px;
      }
      
      #telaInicial,
      #quiz,
      #telaVitoria {
        max-width: 100%;
        padding: 0 10px;
      }
      
      .botao-recompensa {
        margin-bottom: 100px !important;
      }
      
      /* AJUSTES PARA A MENSAGEM DE VIT√ìRIA NO MOBILE */
      .mensagem-vitoria {
        font-size: 1.1em; /* REDUZI PARA MOBILE */
        margin-top: -30px;
        margin-bottom: 15px;
        padding: 10px;
      }
      
      .mensagem-vitoria p:first-child {
        font-size: 1.3em; /* REDUZI PARA MOBILE */
        margin-bottom: 10px;
      }
      
      @media (hover: none) and (pointer: coarse) {
        .options button:hover,
        .botao-iniciar:hover,
        .botao-recompensa:hover {
          background: #b22222 !important;
          transform: none !important;
          box-shadow: none !important;
        }
        
        .botao-recompensa:hover {
          background: #28a745 !important;
        }
      }
      
      .options button:active,
      .botao-iniciar:active,
      .botao-recompensa:active {
        background: #570657 !important;
        transform: scale(0.95) !important;
        transition: background-color 0.1s, transform 0.1s !important;
        box-shadow: 0 3px 6px rgba(0,0,0,0.2) !important;
      }
      
      .botao-recompensa:active {
        background: #1e7e34 !important;
      }
    }
    
    @media only screen and (max-width: 375px) {
      .menu-fixo a {
        font-size: 24px;
      }
      
      footer {
        font-size: 1em;
        padding: 10px 6px;
      }
      
      #containerTelas {
        min-height: 480px;
      }
      
      .botao-recompensa {
        margin-bottom: 90px !important;
        padding: 13px 35px;
      }
      
      /* AJUSTES PARA A MENSAGEM DE VIT√ìRIA EM TELAS PEQUENAS */
      .mensagem-vitoria {
        font-size: 1.0em; /* REDUZI AINDA MAIS PARA TELAS PEQUENAS */
        margin-top: -20px;
        margin-bottom: 10px;
        padding: 8px;
      }
      
      .mensagem-vitoria p:first-child {
        font-size: 1.2em; /* REDUZI PARA TELAS PEQUENAS */
        margin-bottom: 8px;
      }
    }
  </style>
</head>
<body>
  <nav class="menu-fixo">
    <ul>
      <li><a href="#">üíåJonathan & Audrey</a></li>
    </ul>
  </nav>

  <!-- CONTAINER PARA AS TELAS - CENTRALIZADO -->
  <div id="containerTelas">
    <!-- TELA INICIAL -->
    <div id="telaInicial" class="quiz-container tela-inicial mostrando">
      <img src="QuisDoAmor4.png" 
           alt="Quiz do Amor" 
           style="max-width:300px; margin-bottom:2px; display:block; margin-left:auto; margin-right:auto;"> 
      
      <div class="mensagem-inicial">
        <p>Oi, Dona Audrey,</p>
        <p>Eu tenho umas perguntinhas para fazer pra senhorita e caso voc√™ acerte todas as perguntas, voc√™ ir√° ganhar o <strong>MAIOR presente de toda sua vida</strong>.</p>
        <p>Ent√£o trate de acertar, hein! üòâ</p>
        <p>Caso esteja preparada, basta clicar no bot√£o de iniciar.</p>
      </div>
      
      <button id="iniciarQuiz" class="botao-iniciar">
        INICIAR QUIZ üéØ
      </button>
      <div class="espaco-rodape"></div>
    </div>

    <!-- QUIZ (inicialmente oculto) -->
    <div id="quiz" class="quiz-container oculto">
      <img src="QuisDoAmor4.png" 
           alt="Quiz do Amor" 
           style="max-width:300px; margin-bottom:2px; display:block; margin-left:auto; margin-right:auto;">
    
      <div class="progress-bar" style="margin-top:-50px;">
        <div id="progress" class="progress"></div>
      </div>
      <div id="questionBox"></div>
      <div id="options" class="options"></div>
      <div id="feedback" class="feedback"></div>
      <div class="espaco-rodape"></div>
    </div>

    <!-- TELA DE VIT√ìRIA (inicialmente oculta) -->
    <div id="telaVitoria" class="quiz-container tela-inicial oculto">
      <img src="Vitoria.png" 
           alt="Vit√≥ria do Quiz" 
           style="max-width:300px; margin-bottom:40px; display:block; margin-left:auto; margin-right:auto;"> 
      
      <!-- CLASSE ALTERADA: de "mensagem-inicial" para "mensagem-vitoria" -->
      <div class="mensagem-vitoria">
        <p>PARAB√âNS, Dona Audrey! üéâüèÜ</p>
        <p>Voc√™ acertou todas as perguntas do <strong>NOSSO</strong> Quiz do Amor e, por isso, acaba de conquistar o direito de desbloquear o grande pr√™mio.</p>
        <p><strong>Clique no bot√£o abaixo para liberar sua recompensa e prepare-se para ser muito feliz ‚ù§Ô∏è</strong></p>
      </div>
      
      <button id="pegarRecompensa" class="botao-recompensa">
        PEGAR RECOMPENSA üéÅ
      </button>
      <div class="espaco-rodape"></div>
    </div>
  </div>

  <footer>
    Responda todas as perguntas para desbloquear a surpresa‚ù§Ô∏è
  </footer>

  <script>
    // Elementos da tela
    const telaInicial = document.getElementById('telaInicial');
    const quiz = document.getElementById('quiz');
    const telaVitoria = document.getElementById('telaVitoria');
    const iniciarQuizBtn = document.getElementById('iniciarQuiz');
    const pegarRecompensaBtn = document.getElementById('pegarRecompensa');
    
    // Dados originais das perguntas
    const questionsData = [
      { q: "Qual foi o primeiro filme que assistimos juntos no cinema?", options: ["Truque de Mestre", "Quarteto Fant√°stico", "Invoca√ß√£o do Mal 4", "Megan 2.0"], answer: 1 },
      { q: "Quantos anos de amizade n√≥s faremos agora em 2026?", options: ["10", "12", "13", "15"], answer: 2 },
      { q: "O que n√≥s mais temos em comum?", options: ["Gostar de caribe", "Gostar de coisa salgada", "Gostar de viajar", "Gostar das mesmas s√©ries"], answer: 0 },
      { q: "Qual passeio √© o nosso sonho em comum?", options: ["Ir para Bahia", "Conhecer o Jap√£o", "Fazer um cruzeiro", "Nenhuma das op√ß√µes"], answer: 2 },
      { q: "Qual o nome da m√∫sica da nossa primeira foto postada juntos?", options: ["Mudei Demais", "Burna Boy - Love", "Japanese Denim", "Little Things"], answer: 0 }
    ];

    // Sons para feedback auditivo
    const soundAcerto = new Audio('acertou.mp3');
    const soundErro = new Audio('errou.mp3');
    const soundVitoria = new Audio('VitoriaGame2.mp3');
    const soundFinal = new Audio('vitoriaGame.mp3');

    // Fun√ß√£o para embaralhar array
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // Preparar perguntas embaralhadas
    function prepareShuffledQuestions() {
      const shuffledQuestions = shuffleArray([...questionsData]);
      
      shuffledQuestions.forEach(question => {
        const originalOptions = [...question.options];
        const originalAnswer = question.answer;
        const correctAnswerText = originalOptions[originalAnswer];
        
        const shuffledOptions = shuffleArray([...originalOptions]);
        const newAnswerIndex = shuffledOptions.indexOf(correctAnswerText);
        
        question.options = shuffledOptions;
        question.answer = newAnswerIndex;
      });
      
      return shuffledQuestions;
    }

    // Vari√°veis do quiz
    let questions = prepareShuffledQuestions();
    let current = 0;
    let score = 0;

    const questionBox = document.getElementById("questionBox");
    const optionsBox = document.getElementById("options");
    const feedbackBox = document.getElementById("feedback");
    const progressBar = document.getElementById("progress");

    // FUN√á√ÉO SIMPLES PARA TROCAR TELAS
    function trocarTela(esconder, mostrar) {
      esconder.classList.add('oculto');
      esconder.classList.remove('mostrando');
      
      void esconder.offsetWidth;
      
      mostrar.classList.remove('oculto');
      mostrar.classList.add('mostrando');
      
      window.scrollTo(0, 0);
    }

    // Fun√ß√£o para iniciar o quiz
    function iniciarQuiz() {
      questions = prepareShuffledQuestions();
      current = 0;
      score = 0;
      
      try {
        const inicioSound = new Audio('comecoGame.mp3');
        inicioSound.currentTime = 0;
        inicioSound.play();
      } catch (e) {
        console.log("Erro ao tocar som de in√≠cio:", e);
      }
      
      trocarTela(telaInicial, quiz);
      loadQuestion();
    }

    // FUN√á√ÉO PARA MOSTRAR TELA DE VIT√ìRIA
    function mostrarTelaVitoria() {
      try {
        soundVitoria.currentTime = 0;
        soundVitoria.play();
      } catch (e) {
        console.log("Erro ao tocar som de vit√≥ria:", e);
      }
      
      trocarTela(quiz, telaVitoria);
      
      setTimeout(() => {
        criarConfetes();
      }, 300);
    }

    // FUN√á√ÉO PARA CRIAR CONFETES
    function criarConfetes() {
      const cores = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
      for (let i = 0; i < 50; i++) {
        const confete = document.createElement('div');
        confete.className = 'confete';
        confete.style.left = Math.random() * 100 + 'vw';
        confete.style.background = cores[Math.floor(Math.random() * cores.length)];
        confete.style.animation = `confete ${Math.random() * 2 + 1}s ease forwards`;
        confete.style.animationDelay = Math.random() * 0.5 + 's';
        document.body.appendChild(confete);
        
        setTimeout(() => {
          if (confete.parentNode) {
            confete.remove();
          }
        }, 3000);
      }
    }

    function loadQuestion() {
      feedbackBox.innerHTML = "";
      
      if (current < questions.length) {
        questionBox.innerHTML = `<div class="question">${questions[current].q}</div>`;
        optionsBox.innerHTML = "";
        
        questions[current].options.forEach((opt, i) => {
          const btn = document.createElement("button");
          btn.innerText = opt;
          
          btn.onclick = function() {
            this.style.backgroundColor = '#570657';
            this.style.transform = 'scale(0.95)';
            this.style.boxShadow = '0 3px 6px rgba(0,0,0,0.2)';
            
            setTimeout(() => {
              checkAnswer(i);
            }, 150);
          };
          
          optionsBox.appendChild(btn);
        });
        
        updateProgress();
      } else {
        setTimeout(() => {
          if (score === questions.length) {
            mostrarTelaVitoria();
          } else {
            questionBox.innerHTML = "<p>Voc√™ precisa acertar todas as respostas para liberar a surpresa!‚ù§Ô∏è</p>";
            optionsBox.innerHTML = "<button onclick='restartQuiz()'>Tentar novamente</button>";
            feedbackBox.innerHTML = "";
          }
        }, 1000);
      }
    }

    function checkAnswer(i) {
      const buttons = optionsBox.querySelectorAll('button');
      buttons.forEach(btn => {
        btn.disabled = true;
        btn.style.cursor = 'not-allowed';
        btn.style.opacity = '0.7';
        btn.style.backgroundColor = '#b22222';
        btn.style.transform = 'scale(1)';
        btn.style.boxShadow = '';
      });
      
      if (i === questions[current].answer) {
        score++;
        feedbackBox.innerHTML = "<span style='color:green'>Acertou! üíñ</span>";
        soundAcerto.currentTime = 0;
        soundAcerto.play();
      } else {
        feedbackBox.innerHTML = "<span style='color:red'>Ops, errou! üò¢</span>";
        soundErro.currentTime = 0;
        soundErro.play();
      }
      
      current++;
      setTimeout(loadQuestion, 1000);
    }

    function updateProgress() {
      const percent = (current / questions.length) * 100;
      progressBar.style.width = percent + "%";
    }

    function restartQuiz() {
      questions = prepareShuffledQuestions();
      current = 0;
      score = 0;
      feedbackBox.innerHTML = "";
      loadQuestion();
    }

    // EVENT LISTENERS
    iniciarQuizBtn.addEventListener('click', iniciarQuiz);
    
    pegarRecompensaBtn.addEventListener('click', function() {
      this.disabled = true;
      this.style.cursor = 'wait';
      this.style.opacity = '0.7';
      
      try {
        soundFinal.currentTime = 0;
        soundFinal.play();
      } catch (e) {
        console.log("Erro ao tocar som final:", e);
      }
      
      setTimeout(() => {
        window.location.href = "perguntaPedidoNamoro.html";
      }, 2500);
    });
  </script>
</body>
</html>