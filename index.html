<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz do Amor</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      background: #fff0f5;
      font-family: Arial, sans-serif;
      text-align: center;
      padding-bottom: 80px;
    }

    .menu-fixo {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #fff0f5;
      padding: 5px 0;
      z-index: 10000;
      border-top: 10px solid #570657;
      font-family: 'Dancing Script', cursive;
      font-size: 1.5em;
      color: #b22222;
    }
    
    .menu-fixo ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: left;
      gap: 60px;
    }
    
    .menu-fixo li {
      display: inline-block;
    }
    
    .menu-fixo a {
      color: #b22222;
      font-size: 35px;
      text-decoration: none;
      transition: transform 0.2s ease;
    }
    
    .menu-fixo a:hover {
      transform: scale(1.3);
    }

    .quiz-container {
      margin-top: 20px;
      margin-left: -15px; 
      margin-right: auto;
    }

    .tela-inicial {
      padding: 20px;
      max-width: 600px;
      margin: 0 auto;
    }

    .mensagem-inicial {
      font-size: 1.3em;
      color: #570657;
      line-height: 1.6;
      margin-top: -60px;
      margin-bottom: 25px;
      padding: 15px;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 15px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    .botao-iniciar {
      background: #b22222;
      color: white;
      border: none;
      padding: 15px 40px;
      font-size: 1.2em;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Dancing Script', cursive;
      font-weight: bold;
    }

    .botao-iniciar:hover {
      background: #570657;
      transform: scale(1.1);
      box-shadow: 0 6px 12px rgba(0,0,0,0.2);
    }

    .question {
      font-size: 1.2em;
      margin: 20px 0;
      color: #570657;
    }

    .options button {
      display: block;
      margin: 10px auto;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background: #b22222;
      color: white;
      font-size: 1em;
      transition: 0.3s;
      min-width: 180px;
      max-width: 220px;
      width: 80%;
      min-height: 50px;
      text-align: center;
      box-sizing: border-box;
    }

    .options button:hover {
      background: #570657;
      transform: scale(1.05);
    }

    .feedback {
      font-size: 1.1em;
      margin-top: 10px;
      font-weight: bold;
      height: 30px;
      transition: opacity 0.3s ease;
    }

    .progress-bar {
      width: 80%;
      height: 20px;
      background: #ddd;
      border-radius: 10px;
      margin: 20px auto;
      overflow: hidden;
    }

    .progress {
      height: 100%;
      width: 0%;
      background: #b22222;
      transition: width 0.3s ease;
    }

    footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      text-align: center;
      padding: 20px;
      font-family: 'Dancing Script', cursive;
      font-size: 1.5em;
      color: #b22222;
      background: #fff0f5;
      border-bottom: 10px solid #570657;
    }

    .oculto {
      display: none;
    }
    
    /* ===== MEDIA QUERIES APENAS PARA MOBILE ===== */
    @media only screen and (max-width: 768px) {
      body {
        padding-bottom: 120px;
        overflow-x: hidden;
      }
      
      .menu-fixo {
        padding: 8px 0;
        text-align: left;
      }
      
      .menu-fixo a {
        font-size: 28px;
        margin-left: 15px;
      }
      
      .menu-fixo ul {
        justify-content: flex-start !important;
        gap: 0;
        padding-left: 10px;
      }
      
      /* TELA INICIAL - APENAS AJUSTE DA DIST√ÇNCIA ENTRE IMAGEM E MENSAGEM */
      /* O bot√£o tem margin-bottom: 25px no desktop, vamos usar a mesma propor√ß√£o */
      #telaInicial img {
        max-width: 250px !important;
        margin-bottom: 25px !important; /* MESMA DIST√ÇNCIA QUE O BOT√ÉO TEM */
      }
      
      .mensagem-inicial {
        margin-top: 0 !important; /* Remove margem negativa */
        margin-bottom: 25px !important; /* MESMA DIST√ÇNCIA QUE A IMAGEM TEM ACIMA */
        font-size: 1.1em;
        padding: 12px 10px;
        line-height: 1.5;
        text-align: center !important; /* Garante centraliza√ß√£o */
      }
      
      .botao-iniciar {
        padding: 16px 30px;
        font-size: 1.3em;
        margin-bottom: 30px;
      }
      
      /* QUIZ - BARRA DE PROGRESSO MAIS PR√ìXIMA DA IMAGEM */
      #quiz img {
        max-width: 230px !important;
        margin-bottom: 10px !important; /* Reduz espa√ßo abaixo da imagem */
      }
      
      /* BARRA DE PROGRESSO - MAIS PR√ìXIMA DA IMAGEM */
      .progress-bar {
        width: 90%;
        margin: 5px auto 10px auto !important; /* Muito mais pr√≥xima */
      }
      
      /* CORRIGE ALINHAMENTO DO TEXTO - VOLTA AO CENTRO */
      .question {
        font-size: 1.1em;
        margin: 15px 5px 20px 5px;
        padding: 0 8px;
        word-wrap: break-word;
        text-align: center !important; /* GARANTE centraliza√ß√£o */
        line-height: 1.4;
        width: 100%;
        box-sizing: border-box;
      }
      
      .options {
        margin: 5px 0 15px 0;
        text-align: center !important; /* Garante centraliza√ß√£o */
      }
      
      .options button {
        min-width: 150px;
        max-width: 280px;
        width: 95%;
        padding: 12px 8px;
        font-size: 1em;
        margin: 8px auto;
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
        text-align: center !important;
      }
      
      /* CORRE√á√ÉO DO HOVER/ACTIVE NO MOBILE - FUNCIONA NO CLIQUE */
      /* Remove apenas o problema dos bot√µes ficarem transparentes, mas mant√©m active */
      @media (hover: none) and (pointer: coarse) {
        .options button:hover {
          background: #b22222 !important; /* Mant√©m cor normal no hover */
          transform: none !important;
        }
        
        .options button:active {
          background: #570657 !important; /* Muda para roxo quando pressionado */
          transform: scale(0.98) !important;
          transition: background-color 0.1s, transform 0.1s;
        }
        
        /* Remove hover do menu e bot√£o iniciar */
        .botao-iniciar:hover,
        .menu-fixo a:hover {
          transform: none !important;
        }
      }
      
      .feedback {
        height: 35px;
        margin: 5px 0 10px 0;
        font-size: 1.2em;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center !important;
      }
      
      footer {
        padding: 12px 8px;
        font-size: 1.2em;
        line-height: 1.3;
        text-align: center;
        box-sizing: border-box;
        word-wrap: break-word;
      }
    }
    
    /* Ajustes para telas muito pequenas */
    @media only screen and (max-width: 375px) {
      .menu-fixo a {
        font-size: 24px;
        margin-left: 10px;
      }
      
      #telaInicial img, #quiz img {
        max-width: 220px !important;
      }
      
      #telaInicial img {
        margin-bottom: 20px !important; /* Proporcional para telas pequenas */
      }
      
      .mensagem-inicial {
        font-size: 1em;
        margin-bottom: 20px !important; /* Proporcional */
        padding: 10px 8px;
      }
      
      .botao-iniciar {
        padding: 14px 25px;
        font-size: 1.2em;
        margin-bottom: 25px;
      }
      
      .question {
        font-size: 1em;
        margin: 12px 3px 18px 3px;
        padding: 0 5px;
      }
      
      .options button {
        padding: 10px 6px;
        font-size: 0.95em;
        margin: 7px auto;
      }
      
      footer {
        font-size: 1.1em;
        padding: 10px 6px;
      }
    }
  </style>
</head>
<body>
  <nav class="menu-fixo">
    <ul>
      <li><a href="#">üíåJonathan & Audrey</a></li>
    </ul>
  </nav>

  <!-- TELA INICIAL -->
  <div id="telaInicial" class="quiz-container tela-inicial">
    <img src="QuisDoAmor4.png" 
         alt="Quiz do Amor" 
         style="max-width:300px; margin-bottom:2px; display:block; margin-left:auto; margin-right:auto;"> 
    
    <div class="mensagem-inicial">
      <p>Oi, Dona Audrey,</p>
      <p>Eu tenho umas perguntinhas para fazer pra senhorita e caso voc√™ acerte todas as perguntas, voc√™ ir√° ganhar o <strong>MAIOR presente de toda sua vida</strong>.</p>
      <p>Ent√£o trate de acertar, hein! üòâ</p>
      <p>Caso esteja preparada, basta clicar no bot√£o de iniciar.</p>
    </div>
    
    <button id="iniciarQuiz" class="botao-iniciar">
      INICIAR QUIZ üéØ
    </button>
  </div>

  <!-- QUIZ (inicialmente oculto) -->
  <div id="quiz" class="quiz-container oculto">
    <img src="QuisDoAmor4.png" 
         alt="Quiz do Amor" 
         style="max-width:300px; margin-bottom:2px; display:block; margin-left:auto; margin-right:auto;">
  
    <div class="progress-bar" style="margin-top:-50px;">
      <div id="progress" class="progress"></div>
    </div>
    <div id="questionBox"></div>
    <div id="options" class="options"></div>
    <div id="feedback" class="feedback"></div>
  </div>

  <footer>
    Responda todas as perguntas para desbloquear a surpresa‚ù§Ô∏è
  </footer>

  <script>
    // Elementos da tela
    const telaInicial = document.getElementById('telaInicial');
    const quiz = document.getElementById('quiz');
    const iniciarQuizBtn = document.getElementById('iniciarQuiz');
    
    // Dados originais das perguntas
    const questionsData = [
      { q: "Qual foi o primeiro filme que assistimos juntos no cinema?", options: ["Truque de Mestre", "Quarteto Fant√°stico", "Invoca√ß√£o do Mal 4", "Megan 2.0"], answer: 1 },
      { q: "Quantos anos de amizade n√≥s faremos agora em 2026?", options: ["10", "12", "13", "15"], answer: 2 },
      { q: "O que n√≥s mais temos em comum?", options: ["Gostar de caribe", "Gostar de coisa salgada", "Gostar de viajar", "Gostar das mesmas s√©ries"], answer: 0 },
      { q: "Qual passeio √© o nosso sonho em comum?", options: ["Ir para Bahia", "Conhecer o Jap√£o", "Fazer um cruzeiro", "Nenhuma das op√ß√µes"], answer: 2 },
      { q: "Qual o nome da m√∫sica da nossa primeira foto postada juntos?", options: ["Mudei Demais", "Burna Boy - Love", "Japanese Denim", "Little Things"], answer: 0 }
    ];

    // Sons para feedback auditivo
    const soundAcerto = new Audio('acertou.mp3');
    const soundErro = new Audio('errou.mp3');

    // Fun√ß√£o para embaralhar array
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // Preparar perguntas embaralhadas
    function prepareShuffledQuestions() {
      const shuffledQuestions = shuffleArray([...questionsData]);
      
      shuffledQuestions.forEach(question => {
        const originalOptions = [...question.options];
        const originalAnswer = question.answer;
        const correctAnswerText = originalOptions[originalAnswer];
        
        const shuffledOptions = shuffleArray([...originalOptions]);
        const newAnswerIndex = shuffledOptions.indexOf(correctAnswerText);
        
        question.options = shuffledOptions;
        question.answer = newAnswerIndex;
      });
      
      return shuffledQuestions;
    }

    // Vari√°veis do quiz
    let questions = prepareShuffledQuestions();
    let current = 0;
    let score = 0;

    const questionBox = document.getElementById("questionBox");
    const optionsBox = document.getElementById("options");
    const feedbackBox = document.getElementById("feedback");
    const progressBar = document.getElementById("progress");

    // Fun√ß√£o para iniciar o quiz
    function iniciarQuiz() {
      telaInicial.classList.add('oculto');
      quiz.classList.remove('oculto');
      
      // Scroll para o topo no mobile
      if (window.innerWidth <= 768) {
        window.scrollTo(0, 0);
      }
      
      questions = prepareShuffledQuestions();
      current = 0;
      score = 0;
      loadQuestion();
      
      try {
        const inicioSound = new Audio('acertou.mp3');
        inicioSound.currentTime = 0;
        inicioSound.play();
      } catch (e) {
        console.log("Erro ao tocar som de in√≠cio:", e);
      }
    }

    function loadQuestion() {
      feedbackBox.innerHTML = "";
      
      if (current < questions.length) {
        questionBox.innerHTML = `<div class="question">${questions[current].q}</div>`;
        optionsBox.innerHTML = "";
        
        questions[current].options.forEach((opt, i) => {
          const btn = document.createElement("button");
          btn.innerText = opt;
          
          // Adiciona evento touch para mobile
          btn.addEventListener('touchstart', function() {
            this.style.backgroundColor = '#570657';
          });
          
          btn.addEventListener('touchend', function() {
            if (!this.disabled) {
              this.style.backgroundColor = '#b22222';
            }
          });
          
          btn.onclick = function() {
            this.style.backgroundColor = '#570657';
            setTimeout(() => {
              checkAnswer(i);
            }, 150);
          };
          
          optionsBox.appendChild(btn);
        });
        
        updateProgress();
      } else {
        if (score === questions.length) {
          window.location.href = "perguntaPedidoNamoro.html";
        } else {
          setTimeout(() => {
            questionBox.innerHTML = "<p>Voc√™ precisa acertar todas as respostas para liberar a surpresa!‚ù§Ô∏è</p>";
            optionsBox.innerHTML = "<button onclick='restartQuiz()'>Tentar novamente</button>";
            feedbackBox.innerHTML = "";
          }, 1000);
        }
      }
    }

    function checkAnswer(i) {
      const buttons = optionsBox.querySelectorAll('button');
      buttons.forEach(btn => {
        btn.disabled = true;
        btn.style.cursor = 'not-allowed';
        btn.style.opacity = '0.7';
      });
      
      if (i === questions[current].answer) {
        score++;
        feedbackBox.innerHTML = "<span style='color:green'>Acertou! üíñ</span>";
        soundAcerto.currentTime = 0;
        soundAcerto.play();
      } else {
        feedbackBox.innerHTML = "<span style='color:red'>Ops, errou! üò¢</span>";
        soundErro.currentTime = 0;
        soundErro.play();
      }
      
      current++;
      setTimeout(loadQuestion, 1000);
    }

    function updateProgress() {
      const percent = (current / questions.length) * 100;
      progressBar.style.width = percent + "%";
    }

    function restartQuiz() {
      questions = prepareShuffledQuestions();
      current = 0;
      score = 0;
      feedbackBox.innerHTML = "";
      loadQuestion();
    }

    iniciarQuizBtn.addEventListener('click', iniciarQuiz);
  </script>
</body>
</html>